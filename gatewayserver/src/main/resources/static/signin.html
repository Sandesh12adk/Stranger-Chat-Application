<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sign in to StrangerBlink â€” the anonymous chat platform to connect with random strangers worldwide. No registration needed, start chatting instantly!">
    <meta name="keywords" content="StrangerBlink, random chat, anonymous chat, chat with strangers, online chat, instant chat, talk with stranger,
        stranger meet, random chat, random chatting, like chatblink, similar to chatblink, stranger chat,chat stranger, nologin online chatting,
        no login chat online, online chatting , online chat, chat now, best site for chatting online with stranger,dating, talk with girls online,
        how to find girl online, single chat, mingle chat, meet girls online">
    <meta name="author" content="Sandesh Adhikari">
    <meta name="theme-color" content="#4361ee">
    <meta property="og:title" content="StrangerBlink | Sign In & Start Chatting">
    <meta property="og:description" content="Connect anonymously with people from around the world on StrangerBlink. No signup required, chat instantly!">
    <meta property="og:image" content="/images/applogo.png">
    <meta property="og:url" content="https://strangerblink.fun/signin.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="StrangerBlink | Sign In & Start Chatting">
    <meta name="twitter:description" content="Connect anonymously with people from around the world on StrangerBlink. No signup required, chat instantly!">
    <meta name="twitter:image" content="/images/applogo.png">
    <link rel="icon" type="image/png" href="/images/applogo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/applogo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/applogo.png">
    <link rel="shortcut icon" href="/images/applogo.png">

    <link rel="canonical" href="https://strangerblink.fun/signin.html">
    <title>Strangerblink | Join the Conversation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4826674306686209"
            crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-4826674306686209">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #f8961e;
            --border-radius: 16px;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(-45deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            animation: gradient 20s ease infinite;
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        #loadingScreen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #mainContent {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
        }

        #mainContent.visible {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-wrapper {
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 16px;
            font-weight: 700;
            font-size: 2rem;
        }

        .logo i {
            font-size: 2.2rem;
        }

        .login-header h1 {
            font-size: 1.5rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .login-header p {
            font-size: 0.95rem;
            opacity: 0.95;
            margin: 0;
        }

        .login-body {
            padding: 35px 30px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
            font-size: 0.95rem;
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 1.1rem;
        }

        input[type="number"] {
            width: 100%;
            padding: 14px 16px 14px 46px;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: white;
            font-family: inherit;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.1);
        }

        input[type="number"]:invalid {
            border-color: var(--danger);
        }

        .gender-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .gender-option {
            text-align: center;
            padding: 16px;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 1rem;
        }

        .gender-option:hover {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
            transform: translateY(-2px);
        }

        .gender-option.selected {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
        }

        .gender-option i {
            font-size: 1.2rem;
        }

        .consent-section {
            margin: 24px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid var(--light-gray);
        }

        .consent-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            cursor: pointer;
            user-select: none;
        }

        .checkbox-wrapper {
            position: relative;
            flex-shrink: 0;
        }

        .checkbox-wrapper input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            width: 0;
            height: 0;
        }

        .checkmark {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background-color: white;
            border: 2px solid var(--light-gray);
            border-radius: 6px;
            transition: var(--transition);
        }

        .checkbox-wrapper:hover .checkmark {
            border-color: var(--primary);
        }

        .checkbox-wrapper input:checked ~ .checkmark {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .checkmark i {
            color: white;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .checkbox-wrapper input:checked ~ .checkmark i {
            opacity: 1;
        }

        .consent-text {
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--dark);
        }

        .consent-text a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .consent-text a:hover {
            text-decoration: underline;
        }

        .btn-primary-custom {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            font-family: inherit;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        }

        .btn-primary-custom:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
        }

        .btn-primary-custom:active:not(:disabled) {
            transform: translateY(0);
        }

        .btn-primary-custom:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading {
            display: none;
        }

        .btn-primary-custom:disabled .loading {
            display: inline-block;
        }

        .btn-primary-custom:disabled .button-text {
            display: none;
        }

        .legal-links {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--light-gray);
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 16px;
        }

        .legal-link {
            color: var(--gray);
            text-decoration: none;
            font-size: 0.85rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .legal-link:hover {
            color: var(--primary);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 20px;
            border-radius: 12px;
            background: white;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateX(150%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            max-width: calc(100vw - 40px);
            min-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            border-left: 4px solid var(--danger);
        }

        .notification.success {
            border-left: 4px solid var(--success);
        }

        .notification i {
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .notification.error i {
            color: var(--danger);
        }

        .notification.success i {
            color: var(--success);
        }

        .notification-text {
            flex: 1;
            font-size: 0.95rem;
            color: var(--dark);
        }

        .features-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 24px;
            padding: 16px;
            background: linear-gradient(135deg, rgba(67, 97, 238, 0.1) 0%, rgba(114, 9, 183, 0.1) 100%);
            border-radius: 12px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: var(--dark);
        }

        .feature-item i {
            color: var(--primary);
        }

        @media (max-width: 576px) {
            .login-wrapper {
                padding: 0 10px;
            }

            .login-header {
                padding: 30px 20px;
            }

            .login-body {
                padding: 25px 20px;
            }

            .logo {
                font-size: 1.6rem;
            }

            .gender-options {
                grid-template-columns: 1fr;
            }

            .features-badge {
                flex-direction: column;
                gap: 12px;
            }

            .legal-links {
                gap: 12px;
            }

            .notification {
                min-width: auto;
                left: 20px;
                right: 20px;
            }
        }

        @media (max-width: 400px) {
            .login-header h1 {
                font-size: 1.3rem;
            }

            .legal-link {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
<div id="loadingScreen">
    <div class="loading-spinner"></div>
    <div class="loading-text">Loading...</div>
</div>

<div id="mainContent">
    <div class="login-wrapper">
        <div class="login-card">
            <div class="login-header">
                <div class="logo">
                    <i class="fas fa-comments"></i>
                    <span>StrangerBlink</span>
                </div>
                <h1>Connect Anonymously</h1>
                <p>Start chatting with people worldwide</p>
            </div>

            <div class="login-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="age">Your Age</label>
                        <div class="input-with-icon">
                            <i class="fas fa-calendar-alt"></i>
                            <input type="number" id="age" name="age" required min="13" max="120" placeholder="Enter your age">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Your Gender</label>
                        <div class="gender-options">
                            <div class="gender-option male" data-value="male">
                                <i class="fas fa-mars"></i>
                                <span>Male</span>
                            </div>
                            <div class="gender-option female" data-value="female">
                                <i class="fas fa-venus"></i>
                                <span>Female</span>
                            </div>
                        </div>
                        <input type="hidden" id="gender" name="gender" required>
                    </div>

                    <div class="consent-section">
                        <label class="consent-checkbox">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="privacyConsent" required>
                                <span class="checkmark">
                                    <i class="fas fa-check"></i>
                                </span>
                            </div>
                            <span class="consent-text">
                                I have read and agree to the <a href="privacy_policy.html" target="_blank">Privacy Policy</a> and <a href="terms_and_conditions.html" target="_blank">Terms & Conditions</a>
                            </span>
                        </label>
                    </div>

                    <button type="submit" class="btn-primary-custom" id="submitBtn" disabled>
                        <span class="button-text">
                            <i class="fas fa-comment-dots"></i>
                            Start Chatting
                        </span>
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>

                <div class="features-badge">
                    <div class="feature-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>100% Anonymous</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-lock"></i>
                        <span>Safe & Secure</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-bolt"></i>
                        <span>Instant Connect</span>
                    </div>
                </div>

                <div class="legal-links">
                    <a href="about_us.html" class="legal-link">
                        <i class="fas fa-info-circle"></i> About
                    </a>
                    <a href="frequently_asked_questions.html" class="legal-link">
                        <i class="fas fa-question-circle"></i> FAQ
                    </a>
                    <a href="disclaimer.html" class="legal-link">
                        <i class="fas fa-exclamation-triangle"></i> Disclaimer
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="notification" id="notification">
    <i class="fas fa-exclamation-circle"></i>
    <span class="notification-text" id="notificationText">This is a notification</span>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const apiUrl = "/user/api/user";

    function checkSessionAndDisplay() {
        fetch(`${apiUrl}/session-check`, {
            method: "GET",
            credentials: 'include'
        })
        .then(response => {
            if (response.ok) return response.json();
            throw new Error("No active session");
        })
        .then(data => {
            window.location.href = "dashboard.html";
        })
        .catch(err => {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.add('visible');
            }, 500);
        });
    }

    document.addEventListener('DOMContentLoaded', checkSessionAndDisplay);

    // Gender selection
    document.querySelectorAll('.gender-option').forEach(option => {
        option.addEventListener('click', function() {
            document.querySelectorAll('.gender-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            this.classList.add('selected');
            document.getElementById('gender').value = this.dataset.value;
            validateForm();
        });
    });

    // Privacy consent checkbox
    const privacyConsent = document.getElementById('privacyConsent');
    const submitBtn = document.getElementById('submitBtn');
    const ageInput = document.getElementById('age');
    const genderInput = document.getElementById('gender');

    function validateForm() {
        const isValid = privacyConsent.checked &&
                       ageInput.value >= 13 &&
                       ageInput.value <= 120 &&
                       genderInput.value !== '';
        submitBtn.disabled = !isValid;
    }

    privacyConsent.addEventListener('change', validateForm);
    ageInput.addEventListener('input', validateForm);

    // Checkbox label click
    document.querySelector('.consent-checkbox').addEventListener('click', function(e) {
        if (e.target.tagName !== 'A') {
            e.preventDefault();
            privacyConsent.checked = !privacyConsent.checked;
            validateForm();
        }
    });

    // Form submission
    document.getElementById("loginForm").addEventListener("submit", function(event) {
        event.preventDefault();

        if (!privacyConsent.checked) {
            showNotification("Please accept the Privacy Policy and Terms & Conditions", "error");
            return;
        }

        const age = document.getElementById("age").value;
        const gender = document.getElementById("gender").value;

        if (!gender) {
            showNotification("Please select your gender", "error");
            return;
        }

        if (age < 13) {
            showNotification("You must be at least 13 years old to use this service", "error");
            return;
        }

        submitBtn.disabled = true;

        fetch(`${apiUrl}/signin`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ age: age, gender: gender }),
            credentials: 'include'
        })
        .then(response => {
            if (!response.ok) throw new Error("Unable to join chat");
            return response.json();
        })
        .then(data => {
            showNotification("Welcome to StrangerBlink! Redirecting...", "success");
            setTimeout(() => {
                window.location.href = "dashboard.html";
            }, 1500);
        })
        .catch(error => {
            showNotification(error.message, "error");
            submitBtn.disabled = false;
        });
    });

    function showNotification(message, type) {
        const notification = document.getElementById("notification");
        const notificationText = document.getElementById("notificationText");
        const icon = notification.querySelector('i');

        notificationText.textContent = message;
        notification.className = `notification ${type} show`;

        if (type === 'error') {
            icon.className = 'fas fa-exclamation-circle';
        } else {
            icon.className = 'fas fa-check-circle';
        }

        setTimeout(() => {
            notification.classList.remove("show");
        }, 5000);
    }

    ageInput.addEventListener("input", function() {
        const age = parseInt(this.value);
        if (age < 13 || age > 120) {
            this.style.borderColor = "var(--danger)";
        } else {
            this.style.borderColor = "var(--light-gray)";
        }
    });
</script>
</body>
</html>